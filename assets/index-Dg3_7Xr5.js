(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}})();let l=[];const f="Элизабет",m=document.querySelector("form"),n=document.querySelector(".form-textarea"),c=document.querySelector(".section-messages"),p=document.querySelector(".section"),h=document.getElementById("delete-button");m.addEventListener("submit",L.bind(void 0));m.addEventListener("keypress",S.bind(void 0));window.addEventListener("beforeunload",v);n.addEventListener("input",C);h.addEventListener("click",()=>{l=[],localStorage.clear(),g()});y();g();function y(){l=JSON.parse(localStorage.getItem("messages"))||[]}function v(){localStorage.setItem("messages",JSON.stringify(l))}function E(o,t,r){l.push({username:o,text:t,time:r});const a=d(o,t,r);c.appendChild(a),setTimeout(()=>{p.scrollTop=p.scrollHeight},0)}function d(o,t,r){const a=document.createElement("div"),e=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),u=document.createElement("span");return s.innerText=`${o}`,e.innerText=t,i.innerText=`${r}`,o===f?(a.classList.add("message-my-container"),e.classList.add("message-my-content"),i.classList.add("message-status"),s.classList.add("message-my-username"),u.classList.add("material-symbols-outlined"),u.style.fontSize="14px",u.innerText="check",i.appendChild(u)):(a.classList.add("message-other-container"),e.classList.add("message-other-content"),i.classList.add("message-status"),s.classList.add("message-other-username")),e.appendChild(i),a.appendChild(s),a.appendChild(e),a}function g(){c.innerHTML="",c.appendChild(d("Дженнифер","Привет!","11:24")),c.appendChild(d(f,"Привет","11:24")),c.appendChild(d("Дженнифер","Как дела?","11:24")),c.appendChild(d("Дженнифер","Что делаешь?","11:25")),l.forEach(o=>{const{username:t,text:r,time:a}=o,e=d(t,r,a);c.appendChild(e)}),setTimeout(()=>{c.scrollTop=c.scrollHeight},0),n.dispatchEvent(new Event("input"))}function L(o){o.preventDefault();const t=n.value.trim();if(t){let r=new Date;E("Элизабет",t,`${r.getHours()}`.padStart(2,"0")+":"+`${r.getMinutes()}`.padStart(2,"0")),n.value=""}}function S(o){if(o.key==="Enter"){if(o.preventDefault(),o.shiftKey){const t=n.selectionStart;n.value=n.value.slice(0,t)+`
`+n.value.slice(t),n.selectionStart=n.selectionEnd=t+1}else m.dispatchEvent(new Event("submit"));n.dispatchEvent(new Event("input")),n.scrollTop=n.scrollHeight}}function C(){n.style.height="0px",n.style.height=n.scrollHeight+"px"}
