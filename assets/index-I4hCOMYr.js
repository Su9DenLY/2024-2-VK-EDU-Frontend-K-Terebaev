(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();let l=[];const u=document.querySelector("form"),s=document.querySelector(".form-textarea"),c=document.querySelector(".section-messages"),f=document.getElementById("delete-button");u.addEventListener("submit",E.bind(void 0));u.addEventListener("keypress",L.bind(void 0));window.addEventListener("beforeunload",v);s.addEventListener("input",S);function g(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}f.addEventListener("click",()=>{l=[],localStorage.clear(),p()});h();p();function h(){l=JSON.parse(localStorage.getItem("messages"))||[]}function v(){localStorage.setItem("messages",JSON.stringify(l))}function y(n,t,a){l.push({username:n,text:t,time:a});const o=m(n,t,a);c.appendChild(o),setTimeout(()=>{o.scrollIntoView({behavior:"smooth"})},0)}function m(n,t,a){const o=document.createElement("div"),e=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),d=document.createElement("span");return o.classList.add("message-container"),e.classList.add("message-content"),i.classList.add("message-status"),r.classList.add("message-username"),d.classList.add("material-symbols-outlined"),d.style.fontSize="14px",r.innerText=`${n}`,e.innerHTML=`<div>${g(t).replace(/\n/g,"<br>")}</div>`,i.innerText=`${a}`,d.innerText="check",i.appendChild(d),e.appendChild(i),o.appendChild(r),o.appendChild(e),o}function p(){c.innerHTML="",l.forEach(n=>{const{username:t,text:a,time:o}=n,e=m(t,a,o);c.appendChild(e)}),setTimeout(()=>{c.scrollTop=c.scrollHeight},0),s.dispatchEvent(new Event("input"))}function E(n){n.preventDefault();const t=s.value.trim();if(t){let a=new Date;y("Элизабет",t,`${a.getHours()}`.padStart(2,"0")+":"+`${a.getMinutes()}`.padStart(2,"0")),s.value=""}}function L(n){if(n.key==="Enter"){if(n.preventDefault(),n.shiftKey){const t=s.selectionStart;s.value=s.value.slice(0,t)+`
`+s.value.slice(t),s.selectionStart=s.selectionEnd=t+1}else u.dispatchEvent(new Event("submit"));s.dispatchEvent(new Event("input")),s.scrollTop=s.scrollHeight}}function S(){s.style.height="0px",s.style.height=s.scrollHeight+"px"}
