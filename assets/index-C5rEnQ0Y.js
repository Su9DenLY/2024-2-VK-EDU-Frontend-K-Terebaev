(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=a(e);fetch(e.href,s)}})();const l=document.querySelector("form"),t=document.querySelector(".form-textarea"),d=document.querySelector(".section");l.addEventListener("submit",m.bind(void 0));l.addEventListener("keypress",p.bind(void 0));window.addEventListener("load",u);t.addEventListener("input",f);function u(){d.innerHTML="",(JSON.parse(localStorage.getItem("messages"))||[]).reverse().forEach((n,a)=>{const r=document.createElement("div"),e=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),c=document.createElement("span");r.classList.add("message-container"),e.classList.add("message-content"),i.classList.add("message-status"),s.classList.add("message-username"),c.classList.add("material-symbols-outlined"),c.style.fontSize="14px",s.innerHTML=`
            ${n.username}
        `,e.innerHTML=`
            <div>${n.text.trim().replace(/\n/g,"<br>")}</div>
        `,i.innerHTML=`
            ${n.time}
        `,c.innerHTML=`
            check
        `,i.appendChild(c),e.appendChild(i),r.appendChild(s),r.appendChild(e),d.appendChild(r),a===0&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth"})},0)}),t.dispatchEvent(new Event("input"))}function m(o){if(t.value.trim()){o.preventDefault();let n=new Date;const a={username:"Элизабет",text:t.value,time:`${n.getHours()}`.padStart(2,"0")+":"+`${n.getMinutes()}`.padStart(2,"0")};let r=JSON.parse(localStorage.getItem("messages"))||[];r.push(a),localStorage.setItem("messages",JSON.stringify(r)),t.value="",u()}}function p(o){if(o.key==="Enter"){if(o.preventDefault(),o.shiftKey){const n=t.selectionStart;t.value=t.value.slice(0,n)+`
`+t.value.slice(n),t.selectionStart=t.selectionEnd=n+1}else l.dispatchEvent(new Event("submit"));t.dispatchEvent(new Event("input")),t.scrollTop=t.scrollHeight}}function f(){t.style.height="0px",t.style.height=t.scrollHeight+"px"}
